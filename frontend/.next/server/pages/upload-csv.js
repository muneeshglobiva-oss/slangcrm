"use strict";(()=>{var e={};e.id=115,e.ids=[115,660],e.modules={452:(e,t,r)=>{r.r(t),r.d(t,{config:()=>b,default:()=>g,getServerSideProps:()=>x,getStaticPaths:()=>S,getStaticProps:()=>m,reportWebVitals:()=>f,routeModule:()=>y,unstable_getServerProps:()=>_,unstable_getServerSideProps:()=>j,unstable_getStaticParams:()=>v,unstable_getStaticPaths:()=>P,unstable_getStaticProps:()=>h});var a={};r.r(a),r.d(a,{default:()=>c});var s=r(7093),i=r(5244),l=r(1323),o=r(5388),n=r.n(o),p=r(1103),u=r(997),d=r(6689);function c(){let[e,t]=(0,d.useState)(null),[r,a]=(0,d.useState)(""),[s,i]=(0,d.useState)(!1),l=async t=>{if(t.preventDefault(),!e){a("Please select a CSV file.");return}i(!0);let r=new FormData;r.append("csv",e);try{let e=await fetch("/api/parts/upload-csv",{method:"POST",body:r}),t=await e.json();e.ok?a(`Successfully uploaded! Inserted ${t.inserted} parts.`):a(t.error||"Upload failed.")}catch(e){a("Error uploading file.")}i(!1)};return(0,u.jsxs)("div",{style:{maxWidth:500,margin:"40px auto",padding:24,background:"#fff",borderRadius:8,boxShadow:"0 2px 8px #eee"},children:[u.jsx("h2",{children:"Upload Parts CSV"}),(0,u.jsxs)("form",{onSubmit:l,children:[u.jsx("input",{type:"file",accept:".csv",onChange:e=>{t(e.target.files[0]),a("")}}),u.jsx("button",{type:"submit",disabled:s,style:{marginLeft:12},children:s?"Uploading...":"Upload"})]}),r&&u.jsx("p",{style:{marginTop:16},children:r}),(0,u.jsxs)("div",{style:{marginTop:24,fontSize:14,color:"#555"},children:[u.jsx("b",{children:"CSV columns required:"}),u.jsx("br",{}),"model_number, article_number, article_name, part_name, part_pseudo_name, part_description, part_weight, part_size, image"]})]})}let g=(0,l.l)(a,"default"),m=(0,l.l)(a,"getStaticProps"),S=(0,l.l)(a,"getStaticPaths"),x=(0,l.l)(a,"getServerSideProps"),b=(0,l.l)(a,"config"),f=(0,l.l)(a,"reportWebVitals"),h=(0,l.l)(a,"unstable_getStaticProps"),P=(0,l.l)(a,"unstable_getStaticPaths"),v=(0,l.l)(a,"unstable_getStaticParams"),_=(0,l.l)(a,"unstable_getServerProps"),j=(0,l.l)(a,"unstable_getServerSideProps"),y=new s.PagesRouteModule({definition:{kind:i.x.PAGES,page:"/upload-csv",pathname:"/upload-csv",bundlePath:"",filename:""},components:{App:p.default,Document:n()},userland:a})},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{e.exports=require("react")},6405:e=>{e.exports=require("react-dom")},997:e=>{e.exports=require("react/jsx-runtime")},9816:e=>{e.exports=require("styled-jsx/style")},7147:e=>{e.exports=require("fs")},1017:e=>{e.exports=require("path")},2781:e=>{e.exports=require("stream")},9796:e=>{e.exports=require("zlib")}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[491,424,388,935],()=>r(452));module.exports=a})();