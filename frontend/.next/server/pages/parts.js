"use strict";(()=>{var e={};e.id=335,e.ids=[335,660],e.modules={1838:(e,a,t)=>{t.a(e,async(e,s)=>{try{t.r(a),t.d(a,{config:()=>b,default:()=>u,getServerSideProps:()=>h,getStaticPaths:()=>x,getStaticProps:()=>p,reportWebVitals:()=>g,routeModule:()=>v,unstable_getServerProps:()=>_,unstable_getServerSideProps:()=>y,unstable_getStaticParams:()=>N,unstable_getStaticPaths:()=>f,unstable_getStaticProps:()=>j});var r=t(7093),l=t(5244),i=t(1323),n=t(5388),d=t.n(n),c=t(1103),o=t(2637),m=e([o]);o=(m.then?(await m)():m)[0];let u=(0,i.l)(o,"default"),p=(0,i.l)(o,"getStaticProps"),x=(0,i.l)(o,"getStaticPaths"),h=(0,i.l)(o,"getServerSideProps"),b=(0,i.l)(o,"config"),g=(0,i.l)(o,"reportWebVitals"),j=(0,i.l)(o,"unstable_getStaticProps"),f=(0,i.l)(o,"unstable_getStaticPaths"),N=(0,i.l)(o,"unstable_getStaticParams"),_=(0,i.l)(o,"unstable_getServerProps"),y=(0,i.l)(o,"unstable_getServerSideProps"),v=new r.PagesRouteModule({definition:{kind:l.x.PAGES,page:"/parts",pathname:"/parts",bundlePath:"",filename:""},components:{App:c.default,Document:d()},userland:o});s()}catch(e){s(e)}})},2637:(e,a,t)=>{t.a(e,async(e,s)=>{try{t.r(a),t.d(a,{default:()=>d});var r=t(997),l=t(6689),i=t(9648),n=e([i]);function d(){let[e,a]=(0,l.useState)([]),[t,s]=(0,l.useState)(0),[n,d]=(0,l.useState)(1),[c,o]=(0,l.useState)(1),[m,u]=(0,l.useState)(""),[p,x]=(0,l.useState)(null),[h,b]=(0,l.useState)({model_number:"",article_number:"",article_name:"",part_name:"",part_pseudo_name:"",part_description:"",part_weight:"",part_size:"",image:null}),[g,j]=(0,l.useState)(0),[f,N]=(0,l.useState)(null);function _(e){let{name:a,value:t,files:s}=e.target;b(e=>({...e,[a]:s?s[0]:t}))}function y(){x(null),b({model_number:"",article_number:"",article_name:"",part_name:"",part_pseudo_name:"",part_description:"",part_weight:"",part_size:"",image:null})}async function v(e){e.preventDefault();let a=new FormData;Object.entries(h).forEach(([e,t])=>{null!=t&&a.append(e,t)}),p?await i.default.put(`/api/parts/${p}`,a):await i.default.post("/api/parts",a),j(e=>e+1),y()}async function w(e){confirm("Delete this part?")&&(await i.default.delete(`/api/parts/${e}`),j(e=>e+1))}return(0,l.useEffect)(()=>{let e={page:n,limit:10};m&&(e.q=m),i.default.get("/api/parts",{params:e}).then(e=>{a(e.data.parts||[]),s(e.data.total||0),o(e.data.totalPages||1)}).catch(e=>{console.error("Error fetching parts:",e),a([]),s(0),o(1)})},[n,m,g]),(0,r.jsxs)("div",{className:"max-w-6xl mx-auto p-8",children:[r.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Add / Edit Product Part"}),(0,r.jsxs)("form",{className:"bg-white rounded-lg shadow-md p-6 mb-8",onSubmit:v,children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"model_number",className:"block text-sm font-medium text-gray-700 mb-2",children:"Model Number"}),r.jsx("input",{id:"model_number",name:"model_number",value:h.model_number,onChange:_,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"article_number",className:"block text-sm font-medium text-gray-700 mb-2",children:"Article Number"}),r.jsx("input",{id:"article_number",name:"article_number",value:h.article_number,onChange:_,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"article_name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Article Name"}),r.jsx("input",{id:"article_name",name:"article_name",value:h.article_name,onChange:_,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"part_name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Part Number"}),r.jsx("input",{id:"part_name",name:"part_name",value:h.part_name,onChange:_,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[(0,r.jsxs)("div",{className:"md:col-span-2",children:[r.jsx("label",{htmlFor:"part_pseudo_name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Part Pseudo Name"}),r.jsx("textarea",{id:"part_pseudo_name",name:"part_pseudo_name",value:h.part_pseudo_name,onChange:_,rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 resize-vertical"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"part_weight",className:"block text-sm font-medium text-gray-700 mb-2",children:"Part Weight"}),r.jsx("input",{id:"part_weight",name:"part_weight",value:h.part_weight,onChange:_,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"part_size",className:"block text-sm font-medium text-gray-700 mb-2",children:"Part Size"}),r.jsx("input",{id:"part_size",name:"part_size",value:h.part_size,onChange:_,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,r.jsxs)("div",{className:"mb-6",children:[r.jsx("label",{htmlFor:"part_description",className:"block text-sm font-medium text-gray-700 mb-2",children:"Part Description"}),r.jsx("textarea",{id:"part_description",name:"part_description",value:h.part_description,onChange:_,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 resize-vertical"})]}),(0,r.jsxs)("div",{className:"mb-6",children:[r.jsx("label",{htmlFor:"image",className:"block text-sm font-medium text-gray-700 mb-2",children:"Image"}),r.jsx("input",{type:"file",id:"image",name:"image",accept:"image/*",onChange:_,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsxs)("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 font-semibold",children:[p?"Update":"Add"," Part"]}),p&&r.jsx("button",{type:"button",onClick:y,className:"px-6 py-2 bg-gray-600 text-white rounded hover:bg-gray-700 font-semibold",children:"Cancel"})]})]}),(0,r.jsxs)("div",{className:"part-list",children:[r.jsx("h2",{children:"All Parts"}),(0,r.jsxs)("div",{className:"search-paging",children:[r.jsx("div",{className:"search-bar",children:r.jsx("input",{type:"text",placeholder:"Search parts...",value:m,onChange:e=>{u(e.target.value),d(1)},style:{padding:"0.5rem",borderRadius:"4px",border:"1px solid #ccc",width:"300px"}})}),(0,r.jsxs)("div",{className:"paging",children:[r.jsx("button",{onClick:()=>d(e=>Math.max(1,e-1)),disabled:1===n,children:"Previous"}),(0,r.jsxs)("span",{children:["Page ",n," of ",c," (",t," total)"]}),r.jsx("button",{onClick:()=>d(e=>Math.min(c,e+1)),disabled:n===c,children:"Next"})]})]}),r.jsx("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full bg-white border border-gray-300 rounded shadow",children:[r.jsx("thead",{children:(0,r.jsxs)("tr",{className:"bg-gray-100",children:[r.jsx("th",{className:"px-4 py-2 text-left",children:"Model #"}),r.jsx("th",{className:"px-4 py-2 text-left",children:"Article #"}),r.jsx("th",{className:"px-4 py-2 text-left",children:"Article Name"}),r.jsx("th",{className:"px-4 py-2 text-left",children:"Part Number"}),r.jsx("th",{className:"px-4 py-2 text-left",children:"Pseudo Name"}),r.jsx("th",{className:"px-4 py-2 text-left",children:"Weight"}),r.jsx("th",{className:"px-4 py-2 text-left",children:"Size"}),r.jsx("th",{className:"px-4 py-2 text-left",children:"Image"}),r.jsx("th",{className:"px-4 py-2 text-left",children:"Description"}),r.jsx("th",{className:"px-4 py-2 text-left",children:"Actions"})]})}),r.jsx("tbody",{children:e.map(e=>(0,r.jsxs)("tr",{className:"cursor-pointer hover:bg-gray-50",onClick:()=>N(e),children:[r.jsx("td",{className:"px-4 py-2 text-blue-600 underline",children:e.model_number}),r.jsx("td",{className:"px-4 py-2",children:e.article_number}),r.jsx("td",{className:"px-4 py-2",children:e.article_name}),r.jsx("td",{className:"px-4 py-2",children:e.part_name}),r.jsx("td",{className:"px-4 py-2",children:e.part_pseudo_name}),r.jsx("td",{className:"px-4 py-2",children:e.part_weight}),r.jsx("td",{className:"px-4 py-2",children:e.part_size}),r.jsx("td",{className:"px-4 py-2",children:e.image&&r.jsx("img",{src:`/uploads/${e.image}`,alt:"part",className:"w-10 h-10 object-cover rounded"})}),r.jsx("td",{className:"px-4 py-2",children:e.part_description}),(0,r.jsxs)("td",{className:"px-4 py-2",onClick:e=>e.stopPropagation(),children:[r.jsx("button",{onClick:()=>{x(e.id),b({...e,image:null})},className:"mr-2 px-3 py-1 bg-yellow-500 text-white rounded hover:bg-yellow-600",children:"Edit"}),r.jsx("button",{onClick:()=>w(e.id),className:"px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600",children:"Delete"})]})]},e.id))})]})}),f&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:()=>N(null),children:(0,r.jsxs)("div",{className:"bg-white rounded-lg p-8 max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:[r.jsx("h2",{className:"text-2xl font-bold mb-4",children:f.model_number}),f.image&&r.jsx("img",{src:`/uploads/${f.image}`,alt:"part",className:"w-48 h-48 object-contain mb-4 mx-auto"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{children:[r.jsx("span",{className:"font-semibold",children:"Model Number:"})," ",f.model_number]}),(0,r.jsxs)("div",{children:[r.jsx("span",{className:"font-semibold",children:"Article Number:"})," ",f.article_number]}),(0,r.jsxs)("div",{children:[r.jsx("span",{className:"font-semibold",children:"Article Name:"})," ",f.article_name]}),(0,r.jsxs)("div",{children:[r.jsx("span",{className:"font-semibold",children:"Part Weight:"})," ",f.part_weight]}),(0,r.jsxs)("div",{children:[r.jsx("span",{className:"font-semibold",children:"Part Size:"})," ",f.part_size]}),(0,r.jsxs)("div",{children:[r.jsx("span",{className:"font-semibold",children:"Part Description:"})," ",f.part_description]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{children:[r.jsx("span",{className:"font-semibold",children:"Part Number:"})," ",f.part_name]}),(0,r.jsxs)("div",{children:[r.jsx("span",{className:"font-semibold",children:"Part Pseudo Name:"})," ",f.part_pseudo_name]})]})]}),r.jsx("button",{onClick:()=>N(null),className:"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 font-semibold",children:"Close"})]})})]})]})}i=(n.then?(await n)():n)[0],s()}catch(e){s(e)}})},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{e.exports=require("react")},6405:e=>{e.exports=require("react-dom")},997:e=>{e.exports=require("react/jsx-runtime")},9816:e=>{e.exports=require("styled-jsx/style")},9648:e=>{e.exports=import("axios")},7147:e=>{e.exports=require("fs")},1017:e=>{e.exports=require("path")},2781:e=>{e.exports=require("stream")},9796:e=>{e.exports=require("zlib")}};var a=require("../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),s=a.X(0,[491,424,388,935],()=>t(1838));module.exports=s})();