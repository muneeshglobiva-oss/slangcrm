exports.id=935,exports.ids=[935],exports.modules={1323:(e,a)=>{"use strict";Object.defineProperty(a,"l",{enumerable:!0,get:function(){return function e(a,s){return s in a?a[s]:"then"in a&&"function"==typeof a.then?a.then(a=>e(a,s)):"function"==typeof a&&"default"===s?a:void 0}}})},1103:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>x});var n=s(997),r=s(6689);s(6764);var i=s(9816),t=s.n(i),o=s(1664),l=s.n(o);function d({user:e,logout:a}){let[s,i]=(0,r.useState)(!0);return(0,n.jsxs)(n.Fragment,{children:[n.jsx("button",{className:"sidebar-toggle",onClick:()=>i(e=>!e),"aria-label":s?"Close menu":"Open menu",style:{position:"fixed",left:s?230:0,top:20,zIndex:200,background:"#0070f3",color:"#fff",border:"none",borderRadius:"0 6px 6px 0",padding:"0.5rem 0.7rem",cursor:"pointer",transition:"left 0.2s"},children:s?"⏴":"⏵"}),(0,n.jsxs)("aside",{style:{width:s?230:0,minWidth:s?230:0,overflow:"hidden",transition:"width 0.2s, min-width 0.2s"},className:"jsx-8f9aaac6593da024 sidebar",children:[n.jsx("div",{style:{display:s?"block":"none"},className:"jsx-8f9aaac6593da024 sidebar-logo",children:n.jsx("img",{src:"/logo.png",alt:"Logo",style:{width:180,height:64,objectFit:"contain"},className:"jsx-8f9aaac6593da024"})}),(0,n.jsxs)("nav",{style:{display:s?"flex":"none"},className:"jsx-8f9aaac6593da024 sidebar-menu",children:[n.jsx(l(),{href:"/",children:(0,n.jsxs)("span",{className:"jsx-8f9aaac6593da024",children:[n.jsx("span",{className:"jsx-8f9aaac6593da024 icon",children:"\uD83C\uDFE0"})," Dashboard"]})}),n.jsx(l(),{href:"/search",children:(0,n.jsxs)("span",{className:"jsx-8f9aaac6593da024",children:[n.jsx("span",{className:"jsx-8f9aaac6593da024 icon",children:"\uD83D\uDD0D"})," Search"]})}),n.jsx(l(),{href:"/profile",children:(0,n.jsxs)("span",{className:"jsx-8f9aaac6593da024",children:[n.jsx("span",{className:"jsx-8f9aaac6593da024 icon",children:"\uD83D\uDC64"})," Profile"]})}),e&&"admin"===e.role&&(0,n.jsxs)(n.Fragment,{children:[n.jsx(l(),{href:"/parts",children:(0,n.jsxs)("span",{className:"jsx-8f9aaac6593da024",children:[n.jsx("span",{className:"jsx-8f9aaac6593da024 icon",children:"➕"})," Add Product"]})}),n.jsx(l(),{href:"/upload-csv",children:(0,n.jsxs)("span",{className:"jsx-8f9aaac6593da024",children:[n.jsx("span",{className:"jsx-8f9aaac6593da024 icon",children:"⬆️"})," Upload Data"]})}),n.jsx(l(),{href:"/users",children:(0,n.jsxs)("span",{className:"jsx-8f9aaac6593da024",children:[n.jsx("span",{className:"jsx-8f9aaac6593da024 icon",children:"\uD83D\uDC65"})," Manage Users"]})})]})]}),e&&(0,n.jsxs)("div",{style:{display:s?"block":"none",position:"absolute",bottom:"1rem",left:"1rem",right:"1rem"},className:"jsx-8f9aaac6593da024 sidebar-user",children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"0.5rem"},className:"jsx-8f9aaac6593da024 user-info",children:[n.jsx("div",{style:{width:"32px",height:"32px",background:"#ccc",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",marginRight:"0.5rem"},className:"jsx-8f9aaac6593da024 user-avatar",children:e.name?e.name.charAt(0).toUpperCase():"U"}),n.jsx("span",{className:"jsx-8f9aaac6593da024",children:e.name})]}),n.jsx("button",{onClick:a,style:{width:"100%",padding:"0.5rem",background:"#dc3545",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer"},className:"jsx-8f9aaac6593da024",children:"Logout"})]}),n.jsx(t(),{id:"8f9aaac6593da024",children:".sidebar.jsx-8f9aaac6593da024{background:-webkit-linear-gradient(top,#f8fafc 0%,#e9f0f7 100%);background:-moz-linear-gradient(top,#f8fafc 0%,#e9f0f7 100%);background:-o-linear-gradient(top,#f8fafc 0%,#e9f0f7 100%);background:linear-gradient(180deg,#f8fafc 0%,#e9f0f7 100%);min-height:100vh;-webkit-box-shadow:2px 0 12px#0001;-moz-box-shadow:2px 0 12px#0001;box-shadow:2px 0 12px#0001;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;padding-top:2rem;position:fixed;left:0;top:0;z-index:100}.sidebar-logo.jsx-8f9aaac6593da024{margin-bottom:2.5rem}.sidebar-menu.jsx-8f9aaac6593da024{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;gap:1.2rem;width:100%}.sidebar-menu.jsx-8f9aaac6593da024 a.jsx-8f9aaac6593da024{color:#222;text-decoration:none;font-size:1.13rem;padding:.85rem 2.2rem;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;-webkit-transition:background.15s,color.15s;-moz-transition:background.15s,color.15s;-o-transition:background.15s,color.15s;transition:background.15s,color.15s;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.sidebar-menu.jsx-8f9aaac6593da024 a.jsx-8f9aaac6593da024:hover,.sidebar-menu.jsx-8f9aaac6593da024 a.active.jsx-8f9aaac6593da024{background:#e3eefd;color:#0070f3}.icon.jsx-8f9aaac6593da024{margin-right:.7em;font-size:1.2em}"})]})]})}var c=s(48);function x({Component:e,pageProps:a}){let[s,i]=(0,r.useState)(!1),[t,o]=(0,r.useState)(null);return((0,r.useEffect)(()=>{let e=localStorage.getItem("token"),a=localStorage.getItem("user");e&&a&&(i(!0),o(JSON.parse(a)))},[]),s)?(0,n.jsxs)("div",{style:{display:"flex"},children:[n.jsx(d,{user:t,onLogout:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),i(!1),o(null),window.location.href="/login"}}),n.jsx("div",{style:{marginLeft:220,width:"100%"},children:n.jsx(e,{...a,user:t})})]}):n.jsx(c.default,{onLogin:e=>{i(!0),o(e)}})}},48:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>t});var n=s(997),r=s(6689),i=s(1163);function t({onLogin:e}){let[a,s]=(0,r.useState)(""),[t,o]=(0,r.useState)(""),[l,d]=(0,r.useState)("");(0,i.useRouter)();let c=async s=>{s.preventDefault();try{let s=await fetch("http://localhost:5000/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a,password:t})}),n=await s.json();s.ok?(localStorage.setItem("token",n.token),localStorage.setItem("user",JSON.stringify(n.user)),e(n.user)):d(n.error)}catch(e){d("Login failed")}};return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,n.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[n.jsx("div",{children:n.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to your account"})}),(0,n.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:c,children:[l&&n.jsx("div",{className:"text-red-500 text-center",children:l}),(0,n.jsxs)("div",{children:[n.jsx("input",{type:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Email address",value:a,onChange:e=>s(e.target.value)}),n.jsx("input",{type:"password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Password",value:t,onChange:e=>o(e.target.value)})]}),n.jsx("div",{children:n.jsx("button",{type:"submit",className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Sign in"})})]})]})})}},6764:()=>{},5244:(e,a)=>{"use strict";var s;Object.defineProperty(a,"x",{enumerable:!0,get:function(){return s}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(s||(s={}))}};